(this["webpackJsonpamazing-hiring"]=this["webpackJsonpamazing-hiring"]||[]).push([[0],{1:function(e,a,t){e.exports={CreateVacancy:"CreateVacancy_CreateVacancy__1qZec",HeaderBlock:"CreateVacancy_HeaderBlock__3XBX4",EditVacancy:"CreateVacancy_EditVacancy__1BL3e",RecruitersBlock:"CreateVacancy_RecruitersBlock__2kuHe",RecruiterList:"CreateVacancy_RecruiterList__2f1eW",RecruiterItem:"CreateVacancy_RecruiterItem__1Iw6N",RecruiterSelect:"CreateVacancy_RecruiterSelect__15kpY",TitlesLabel:"CreateVacancy_TitlesLabel__2Z2yt",TitlesBlock:"CreateVacancy_TitlesBlock__1l7tG",TitlesInput:"CreateVacancy_TitlesInput__KEfZw",TextBlock:"CreateVacancy_TextBlock__1T5rs",TextInput:"CreateVacancy_TextInput__1OsPN",ButtonsBlock:"CreateVacancy_ButtonsBlock__1Dr0K",SubmitButton:"CreateVacancy_SubmitButton__3jqCT",CancelButton:"CreateVacancy_CancelButton__31kuA"}},22:function(e,a,t){e.exports={Spinner:"Spinner_Spinner__2IzPk",SpinnerIcon:"Spinner_SpinnerIcon__3ZlQE",SpinnerHelper:"Spinner_SpinnerHelper__3Q3Pt"}},34:function(e,a,t){e.exports={App:"App_App__166Pz"}},38:function(e,a,t){e.exports=t(51)},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),r=t(19),i=t.n(r),s=t(9),l=t(4),u=t(30),o=t(31),m=t(36),d=t(32),_=t(37),p=t(15),E=t(3),v=t(17),y=t(21),f=t.n(y),h={recruiters:[],vacancies:[],loading:!1,error:null},b=t(22),V=t.n(b),N=function(){return n.a.createElement("div",{className:V.a.Spinner},n.a.createElement("div",{className:V.a.SpinnerIcon},n.a.createElement("div",{className:V.a.SpinnerHelper})))},C=t(6),g=t.n(C),B=function(e){var a=e.recruiters,t=e.vacancies,c=e.loading,r=e.error,i=e.recruitersFromURL,s=e.history;if(c)return n.a.createElement(N,null);if(r)return n.a.createElement("h1",{className:g.a.Error},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438");if(!t.length)return n.a.createElement("h1",{className:g.a.Error},"\u041d\u0435\u0442 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439");var u=i.length?i:a.map((function(e){return e.id})),o=i.length?t.filter((function(e){return e.assignees.some((function(e){return i.includes(e)}))})):t;return n.a.createElement("div",{className:g.a.VacanciesList},n.a.createElement("h1",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439"),n.a.createElement("div",{className:g.a.RecruitersBlock},a.map((function(e){return n.a.createElement("button",{className:u.includes(e.id)?g.a.RecruiterItem:[g.a.RecruiterItem,g.a.NotChosenRecruiterItem].join(" "),key:e.id,onClick:function(){return function(e){var a=[];(a=i.includes(e)?[].concat(Object(E.a)(i.slice(0,i.indexOf(e))),Object(E.a)(i.slice(i.indexOf(e)+1))):[].concat(Object(E.a)(i),[e])).length?s.replace("?assignee=".concat(a)):s.replace()}(e.id)}},e.name)}))),n.a.createElement("div",{className:g.a.VacanciesBlock},n.a.createElement("div",{className:g.a.VacancyAdd},n.a.createElement(l.b,{className:g.a.VacancyAddButton,to:"create/"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e")),o.length?o.map((function(e){return n.a.createElement("div",{key:e.id,className:g.a.VacancyItem},n.a.createElement("h2",null,n.a.createElement(l.b,{className:g.a.VacancyTitle,to:e.id+"/"},e.title)))})):n.a.createElement("div",{className:g.a.NoVacancies},n.a.createElement("h2",null,"\u041d\u0435\u0442 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439"))))},k=function(e,a){var t=a.map((function(e){return e.id}));return Object(E.a)(new Set(e.slice(10).split(",").map((function(e){return+e})).filter((function(e){return t.includes(e)}))))},O=Object(s.b)((function(e){var a=e.vacanciesData;return{recruiters:a.recruiters,vacancies:a.vacancies,loading:a.loading,error:a.error}}))(Object(p.g)((function(e){var a=e.recruiters,t=e.vacancies,c=e.loading,r=e.error,i=e.history,s=e.location,l=[];return s.pathname.endsWith("/")||i.replace("".concat(s.pathname,"/").concat(s.search)),/^\?assignee=\d+(?:,\d+)*$/.test(s.search)?a.length&&(l=k(s.search,a)).toString()!==s.search.slice(10)&&(console.log("qwe"),i.replace("?assignee=".concat(l))):s.search.length&&i.replace(),n.a.createElement(B,{recruiters:a,vacancies:t,loading:c,error:r,recruitersFromURL:l,history:i})}))),I=t(14),j=t(1),R=t.n(j),S=function(e){var a=e.recruiters,t=e.newId,r=e.recruitersFromURL,i=e.createNewVacancy,s=e.history,l=Object(c.useState)(""),u=Object(I.a)(l,2),o=u[0],m=u[1],d=Object(c.useState)(""),_=Object(I.a)(d,2),p=_[0],v=_[1],y=Object(c.useState)(!1),f=Object(I.a)(y,2),h=f[0],b=f[1],V=[],N=a;r.length&&(V=a.filter((function(e){return r.includes(e.id)})),N=N.filter((function(e){return!V.includes(e)})));return n.a.createElement("div",{className:R.a.CreateVacancy},n.a.createElement("div",{className:R.a.HeaderBlock},n.a.createElement("h1",null,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"),h&&n.a.createElement("h2",null,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!!!")),n.a.createElement("div",{className:R.a.RecruitersBlock},n.a.createElement("div",{className:R.a.RecruiterList},V.map((function(e){return n.a.createElement("button",{className:R.a.RecruiterItem,key:e.id,onClick:function(){return function(e){var a=[].concat(Object(E.a)(r.slice(0,r.indexOf(e))),Object(E.a)(r.slice(r.indexOf(e)+1)));a.length?s.replace("?assignee=".concat(a)):s.replace()}(e.id)}},e.name)}))),n.a.createElement("div",{className:R.a.RecruiterSelect},n.a.createElement("select",{onChange:function(e){s.replace("?assignee=".concat([].concat(Object(E.a)(r),[e.currentTarget.value])))}},n.a.createElement("option",{value:"973956174",selected:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u043a\u0440\u0443\u0442\u0435\u0440\u0430"),N.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),n.a.createElement("div",{className:R.a.TitlesBlock},n.a.createElement("h2",{className:R.a.TitlesLabel},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),n.a.createElement("input",{className:R.a.TitlesInput,type:"text",value:o,onChange:function(e){return m(e.currentTarget.value)}})),n.a.createElement("div",{className:R.a.TextBlock},n.a.createElement("h2",{className:R.a.TitlesLabel},"\u0422\u0435\u043a\u0441\u0442"),n.a.createElement("textarea",{rows:"17",className:R.a.TextInput,value:p,onChange:function(e){return v(e.target.value)}})),n.a.createElement("div",{className:R.a.ButtonsBlock},n.a.createElement("button",{className:R.a.SubmitButton,type:"submit",onClick:function(e){return function(e){(e.preventDefault(),o.trim()&&r.length&&p.trim())?(i({id:t,title:o,assignees:r,description:p}),s.push("/")):b(!0)}(e)}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),n.a.createElement("button",{className:R.a.CancelButton,onClick:s.goBack},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")))},T={addNewVacancy:function(e){return function(a){a(function(e){return{type:"ADD_NEW_VACANCY",payload:e}}(e))}}},A=Object(s.b)((function(e){var a=e.vacanciesData;return{recruiters:a.recruiters,vacancies:a.vacancies}}),T)(Object(p.g)((function(e){var a=e.recruiters,t=e.vacancies,c=e.addNewVacancy,r=e.history,i=e.location,s=[];i.pathname.endsWith("/")||r.replace("".concat(i.pathname,"/").concat(i.search)),/^\?assignee=\d+(?:,\d+)*$/.test(i.search)?a.length&&(s=k(i.search,a)).toString()!==i.search.slice(10)&&r.replace("?assignee=".concat(s)):i.search.length&&r.replace("");return n.a.createElement(S,{recruiters:a,newId:t.length?t[t.length-1].id+1:1,recruitersFromURL:s,createNewVacancy:function(e){c(e)},history:r})}))),x=t(7),L=t.n(x),w=function(e){var a=e.recruitersNames,t=e.vacancy,c=e.history;return n.a.createElement("div",{className:L.a.VacancyItem},n.a.createElement("button",{className:L.a.BackButton,onClick:c.goBack},n.a.createElement("i",{className:L.a.arrow}),n.a.createElement("i",{className:L.a.line})),n.a.createElement("div",{className:L.a.AdditionalBlock},n.a.createElement("div",{className:L.a.RecruitersBlock},n.a.createElement("p",{className:L.a.RecruitersLabel},"\u0420\u0435\u043a\u0440\u0443\u0442\u0435\u0440\u044b:"),n.a.createElement("div",{className:L.a.RecruitersList},a.map((function(e,a){return n.a.createElement("span",{className:L.a.Recruiter,key:a},e)})))),n.a.createElement("div",{className:L.a.VacancyEdit},n.a.createElement(l.b,{className:L.a.VacancyEditButton,to:"edit"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))),n.a.createElement("div",{className:L.a.VacancyBlock},n.a.createElement("h1",null,t.title),n.a.createElement("p",{className:L.a.VacancyText},t.description)))},D=Object(s.b)((function(e){var a=e.vacanciesData;return{recruiters:a.recruiters,vacancies:a.vacancies}}))(Object(p.g)((function(e){var a=e.recruiters,t=e.vacancies,c=e.history,r=e.location,i=e.match;r.pathname.endsWith("/")||c.replace("".concat(r.pathname,"/").concat(r.search));var s=t.filter((function(e){return e.id===+i.params.id}))[0];if(!s)return n.a.createElement("p",null,"\u0422\u0430\u043a\u043e\u0439 \u0432\u0430\u043a\u0430\u043d\u0441\u0438 \u043d\u0435\u0442");var l=a.filter((function(e){return s.assignees.includes(e.id)})).map((function(e){return e.name}));return n.a.createElement(w,{recruitersNames:l,vacancy:s,history:c})}))),H=function(e){var a=e.recruiters,t=e.vacancy,r=e.vacancyItemChange,i=e.history,s=Object(c.useState)(t.title),l=Object(I.a)(s,2),u=l[0],o=l[1],m=Object(c.useState)(t.assignees),d=Object(I.a)(m,2),_=d[0],p=d[1],v=Object(c.useState)(t.description),y=Object(I.a)(v,2),f=y[0],h=y[1],b=Object(c.useState)(!1),V=Object(I.a)(b,2),N=V[0],C=V[1],g=a.filter((function(e){return _.includes(e.id)})),B=a.filter((function(e){return!_.includes(e.id)}));return n.a.createElement("div",{className:R.a.EditVacancy},n.a.createElement("div",{className:R.a.HeaderBlock},n.a.createElement("h1",null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"),N&&n.a.createElement("h2",null,"\u041d\u0443\u0436\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0441\u0435 \u043f\u043e\u043b\u044f!!!")),n.a.createElement("div",{className:R.a.RecruitersBlock},n.a.createElement("div",{className:R.a.RecruiterList},n.a.createElement("div",null,g.map((function(e){return n.a.createElement("button",{className:R.a.RecruiterItem,key:e.id,onClick:function(){return a=e.id,void p([].concat(Object(E.a)(_.slice(0,_.indexOf(a))),Object(E.a)(_.slice(_.indexOf(a)+1))));var a}},e.name)})))),n.a.createElement("div",{className:R.a.RecruiterSelect},n.a.createElement("select",{onChange:function(e){p([].concat(Object(E.a)(_),[+e.currentTarget.value]))}},n.a.createElement("option",{value:"973956174",selected:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u043a\u0440\u0443\u0442\u0435\u0440\u0430"),B.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),n.a.createElement("div",{className:R.a.TitlesBlock},n.a.createElement("h2",{className:R.a.TitlesLabel},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),n.a.createElement("input",{className:R.a.TitlesInput,type:"text",value:u,onChange:function(e){return o(e.currentTarget.value)}})),n.a.createElement("div",{className:R.a.TextBlock},n.a.createElement("h2",{className:R.a.TitlesLabel},"\u0422\u0435\u043a\u0441\u0442"),n.a.createElement("textarea",{rows:"17",className:R.a.TextInput,value:f,onChange:function(e){return h(e.target.value)}})),n.a.createElement("div",{className:R.a.ButtonsBlock},n.a.createElement("button",{className:R.a.SubmitButton,type:"submit",onClick:function(e){return function(e){if(e.preventDefault(),u.trim()&&_.length&&f.trim()){var a={id:t.id,title:u,assignees:_,description:f};r(a),i.push("/")}else C(!0)}(e)}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),n.a.createElement("button",{className:R.a.CancelButton,onClick:i.goBack},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")))},F={vacancyChange:function(e,a){return function(t){t({type:"EDIT_VACANCY",payload:{item:e,index:a}})}}},U=Object(s.b)((function(e){var a=e.vacanciesData;return{recruiters:a.recruiters,vacancies:a.vacancies}}),F)(Object(p.g)((function(e){var a=e.recruiters,t=e.vacancies,c=e.vacancyChange,r=e.history,i=e.match,s=t.filter((function(e){return e.id===+i.params.id}))[0];if(!s)return n.a.createElement("p",null,"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430");return n.a.createElement(H,{recruiters:a,vacancy:s,vacancyItemChange:function(e){var a=s.id-1;c(e,a)},history:r})}))),z=(t(49),Object(p.g)((function(e){e.history;return n.a.createElement("div",null,n.a.createElement("p",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),n.a.createElement(l.b,{to:"/"},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"))}))),P=t(34),W=t.n(P),Q=function(e){function a(){return Object(u.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.setVacanciesData()}},{key:"render",value:function(){return n.a.createElement("div",{className:W.a.App},n.a.createElement(p.d,null,n.a.createElement(p.a,{exact:!0,from:"/",to:"/vacancies/"}),n.a.createElement(p.b,{exact:!0,path:"/vacancies/",component:O}),n.a.createElement(p.b,{path:"/vacancies/create/",component:A}),n.a.createElement(p.b,{exact:!0,path:"/vacancies/:id/",component:D}),n.a.createElement(p.b,{path:"/vacancies/:id/edit",component:U}),n.a.createElement(p.b,{component:z})))}}]),a}(c.Component),Y={setVacanciesData:function(){return function(e){e({type:"FETCH_VACANCIES_REQUEST"}),function(){var e;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.awrap(fetch("../../vacanciesData.json"));case 3:if((e=a.sent).ok){a.next=8;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 ".concat(e.status));case 8:return a.next=10,f.a.awrap(e.json());case 10:return a.abrupt("return",a.sent);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",a.t0),a.abrupt("return","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435");case 17:case"end":return a.stop()}}),null,null,[[0,13]])}().then((function(a){return e(function(e){return{type:"FETCH_VACANCIES_SUCCESS",payload:e}}(a))})).catch((function(a){return e(function(e){return{type:"FETCH_VACANCIES_FAILURE",payload:e}}(a.message))}))}}},Z=Object(s.b)(null,Y)(Object(p.g)(Q)),q=t(16),X=Object(q.c)({vacanciesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_VACANCIES_REQUEST":return Object(v.a)({},e,{loading:!0,error:null});case"FETCH_VACANCIES_SUCCESS":return Object(v.a)({},e,{recruiters:a.payload.recruiters,vacancies:a.payload.vacancies,loading:!1,error:null});case"FETCH_VACANCIES_FAILURE":return Object(v.a)({},e,{loading:!1,error:a.payload});case"ADD_NEW_VACANCY":return Object(v.a)({},e,{vacancies:[].concat(Object(E.a)(e.vacancies),[a.payload])});case"EDIT_VACANCY":return Object(v.a)({},e,{vacancies:[].concat(Object(E.a)(e.vacancies.slice(0,a.payload.index)),[a.payload.item],Object(E.a)(e.vacancies.slice(a.payload.index+1)))});default:return e}}}),G=t(35),J=Object(q.d)(X,Object(q.a)(G.a)),K=(t(50),n.a.createElement(s.a,{store:J},n.a.createElement(l.a,null,n.a.createElement(Z,null))));i.a.render(K,document.getElementById("root"))},6:function(e,a,t){e.exports={Error:"VacanciesList_Error__jt9r7",VacanciesList:"VacanciesList_VacanciesList__3N-1g",RecruitersBlock:"VacanciesList_RecruitersBlock__vDEib",RecruiterItem:"VacanciesList_RecruiterItem__15dAS",NotChosenRecruiterItem:"VacanciesList_NotChosenRecruiterItem__o2IH7",VacanciesBlock:"VacanciesList_VacanciesBlock__34DTS",VacancyAdd:"VacanciesList_VacancyAdd__1slbO",VacancyAddButton:"VacanciesList_VacancyAddButton__2c4vx",NoVacancies:"VacanciesList_NoVacancies__1abet",VacancyItem:"VacanciesList_VacancyItem__3eI68",VacancyTitle:"VacanciesList_VacancyTitle__3PBNC"}},7:function(e,a,t){e.exports={VacancyItem:"VacancyItem_VacancyItem__3NrMp",BackButton:"VacancyItem_BackButton__1wr8R",AdditionalBlock:"VacancyItem_AdditionalBlock__2X609",RecruitersBlock:"VacancyItem_RecruitersBlock__27RAO",RecruitersLabel:"VacancyItem_RecruitersLabel__1BSgw",RecruitersList:"VacancyItem_RecruitersList__2C-BZ",Recruiter:"VacancyItem_Recruiter__5gyz3",VacancyEdit:"VacancyItem_VacancyEdit__3Pzu9",VacancyEditButton:"VacancyItem_VacancyEditButton__1QtiS",VacancyBlock:"VacancyItem_VacancyBlock__3CnGE",VacancyText:"VacancyItem_VacancyText__2zCqv"}}},[[38,1,2]]]);
//# sourceMappingURL=main.7bed5c70.chunk.js.map